<h2 mat-dialog-title class="card-header">{{ headerTitle }}</h2>
<form
  *ngIf="hasPermission('Employee-Create')"
  [formGroup]="employeeForm"
  class="signin-form"
>
  <div mat-dialog-content>
    <div class="alert alert-danger" [hidden]="!error">{{ error }}</div>
    <div class="row form-group">
      <div class="col-sm-12">
        <mat-form-field appearance="outline">
          <mat-label>ሙሉ ስም</mat-label>
          <input
            type="text"
            matInput
            formControlName="fullName"
            maxlength="50"
            required
            autofocus
            placeholder="ሙሉ ስም"
          />
        </mat-form-field>
      </div>

      <div class="col-sm-12 col-md-6">
        <mat-form-field appearance="outline">
          <mat-label>መለያ ስም</mat-label>
          <input
            type="text"
            matInput
            formControlName="username"
            required
            placeholder="መለያ ስም"
          />
        </mat-form-field>
      </div>
      <div class="col-sm-12 col-md-6">
        <mat-form-field appearance="outline">
          <mat-label>ስልክ</mat-label>
          <input
            type="text"
            matInput
            formControlName="phone"
            minlength="10"
            maxlength="13"
            required
            placeholder="ስልክ"
          />
        </mat-form-field>
        <span class="text-danger" [hidden]="!phone?.errors?.['pattern']"
          >የምታስገባው ስልክ ቁጥር ብቻ መሆን አለበት፡፡</span
        >
      </div>
      <div class="col-sm-12 col-md-6">
        <mat-form-field appearance="outline">
          <mat-label>ኢሜል</mat-label>
          <input
            type="text"
            matInput
            formControlName="email"
            placeholder="ኢሜል"
          />
        </mat-form-field>
      </div>
      <div class="col-sm-12 col-md-6">
        <mat-form-field appearance="outline">
          <mat-label>የሰራተኛው የስራ ሀገር</mat-label>
          <mat-select formControlName="country" required>
            <mat-option *ngFor="let ctry of countries" [value]="ctry">
              {{ ctry }}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      <div class="col-sm-12 col-md-6">
        <mat-form-field appearance="outline">
          <mat-label>የይለፍ ቃል</mat-label>
          <input
            id="password-field"
            [type]="showPassword ? 'text' : 'password'"
            matInput
            formControlName="password"
            required
            placeholder="የይለፍ ቃል"
          />
          <mat-icon matSuffix (click)="showPassword = !showPassword">{{
            showPassword ? "visibility_off" : "visibility"
          }}</mat-icon>
        </mat-form-field>
        <span class="text-danger" [hidden]="!phone?.errors?.['pattern']"
          >የምታስገባው ስልክ ቁጥር ብቻ መሆን አለበት፡፡</span
        >
      </div>
      <div class="col-sm-12 col-md-6">
        <mat-form-field appearance="outline">
          <mat-label>ድጋሜ የይለፍ ቃል</mat-label>
          <input
            id="password_confirmation"
            [type]="showPasswordConf ? 'text' : 'password'"
            matInput
            formControlName="password_confirmation"
            required
            placeholder="ድጋሜ የይለፍ ቃል"
          />
          <mat-icon matSuffix (click)="showPasswordConf = !showPasswordConf">{{
            showPasswordConf ? "visibility_off" : "visibility"
          }}</mat-icon>
        </mat-form-field>
        <span class="text-danger" [hidden]="!phone?.errors?.['pattern']"
          >የምታስገባው ስልክ ቁጥር ብቻ መሆን አለበት፡፡</span
        >
      </div>
      <div class="col-sm-12 input-append mt-2">
        <button
          mat-button
          class="btn btn-success rounded fw-bold text-white w-50"
          [disabled]="!employeeForm.valid || isClicked"
          (click)="addEmployee()"
        >
          {{ actionButton }}
        </button>
        <button
          class="btn btn-danger fw-bold text-white w-50"
          mat-button
          mat-dialog-close
        >
          ዝጋ
        </button>
      </div>
    </div>
  </div>
</form>

<div
  *ngIf="!hasPermission('Employee-Create')"
  class="container card text-center"
>
  <h5 class="text-danger">ይህንን አገልግሎት ለማገኘት የሚያስችል ፈቃድ የለህም፡፡</h5>
</div>
